# Лабораторная работа №5 - Отчет

### Основная задача

### Задача 1 - Автоматизация проверки файлов при коммите

Устанавливаем Git for ubuntu на нашу виртуальную машину и копируем созданный нами репозиторий с помощью команды из пункта 2 Введения. Заходим в скрытую папку .git а далее в папку hooks в которой с помощью nano 
создаем файл pre-commit со следующим содержанием:

![Screenshot from 2024-12-07 19-05-50](https://github.com/user-attachments/assets/cd5a02c0-f79b-4cea-ad1d-7cc05c75238e)

### Пояснения к некоторым строчкам:

set -e - заставляет скрипт немедленно завершиться, если какая-либо команда вернет ошибку. Это помогает избежать выполнения последующих шагов, если что-то пошло не так.

check_file_format() - функция, проверяющая существование файла и наличие в его тексте искомой подстроки (в нашем случае "Writer:") с помощью grep (опция -q заставляет grep не 
выводить результат поиска, а только возвращать код: 0 (успех, если строка найдена) или 1 (если строка отсутствует))

files_to_check=$(git diff --cached --name-only --diff-filter=ACM | grep '\.txt$') - эта команда собирает список всех файлов .txt, которые находятся в staging(это промежуточная область в Git, куда
мы добавляем изменения перед коммитом) и были добавлены, изменены или скопированы.

Если измененных файлов нет, завершаем программу успешным выводом (0) сразу

Если файлы есть, вызываем для каждого из них циклом вышеописанную функцию check_file_format и в случае отсутствия ошибок выводим соответствующее сообщение.

### Проверяем

Изменяем тестовый файл так, чтобы в нем не было искомой подстроки. При попытке коммита получаем ошибку:

![Screenshot from 2024-12-07 19-03-00](https://github.com/user-attachments/assets/a89e425c-ed75-4422-a9c5-8b1263c25f81)

![Screenshot from 2024-12-07 19-02-30](https://github.com/user-attachments/assets/b286abc3-8fae-4018-94b5-e0bd6a77399f)

Изменяем тестовый файл снова, но теперь чтобы искомая подстрока в нем была. Получаем сообщение об отсутствии ошибок:

![Screenshot from 2024-12-07 19-03-19](https://github.com/user-attachments/assets/df8eea20-14cd-4e3b-ac40-fd38c6feb55c)

![Screenshot from 2024-12-07 19-03-48](https://github.com/user-attachments/assets/a5204dde-a976-475f-b30d-02b083c5c04f)

Работа соответствует условиям, а значит задание выполнено.

### Задача 2 - Использование Git Flow в проекте






